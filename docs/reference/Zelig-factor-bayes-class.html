<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bayesian Factor Analysis — Zelig-factor-bayes-class • Zelig</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Zelig Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/index.html#section-zelig-overview">Zelig Overview</a>
    </li>
    <li>
      <a href="../articles/index.html#section-core-zelig-model-details">Zelig Model Details</a>
    </li>
    <li>
      <a href="../articles/index.html#section-other">Other</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Function Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../reference/index.html#section-main-zelig-workflow">Workflow</a>
    </li>
    <li>
      <a href="../reference/index.html#section-estimation-methods">Estimation Methods</a>
    </li>
    <li>
      <a href="../reference/index.html#section-exterior-interaction-functions">Interacting Outside of Zelig</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/about.html">Contact/Development Team/Citation</a>
    </li>
    <li>
      <a href="../articles/roadmap.html">Development Roadmap</a>
    </li>
    <li>
      <a href="https://iqss.github.io/rpackagemetrics/">Zelig Adoption Metrics</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/IQSS/Zelig/master/.iqss_reportcard.yml">Statistical Software Devepment Reportcard</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://medium.com/zelig-dev/archive">
    <span class="fa fa-medium"></span>
     
    Dev-Blog
  </a>
</li>
<li>
  <a href="https://twitter.com/zeligproject">
    <span class="fa fa-twitter fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/IQSS/Zelig">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bayesian Factor Analysis</h1>
    </div>

    
    <p>Bayesian Factor Analysis</p>
    

    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>a symbolic representation of the model to be
estimated, in the form <code>~ Y1 + Y2 + Y3</code>, where Y1, Y2, and Y3 are variables
of interest in factor analysis (manifest variables), assumed to be
normally distributed. The model requires a minimum of three manifest
variables contained in the
same dataset. The <code>+</code> symbol means ``inclusion'' not
``addition.''</p></td>
    </tr>
    <tr>
      <th>factors</th>
      <td><p>number of the factors to be fitted (defaults to 2).</p></td>
    </tr>
    <tr>
      <th>model</th>
      <td><p>the name of a statistical model to estimate.
For a list of other supported models and their documentation see:
<a href='http://docs.zeligproject.org/articles/'>http://docs.zeligproject.org/articles/</a>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>the name of a data frame containing the variables
referenced in the formula or a list of multiply imputed data frames
each having the same variable names and row numbers (created by
<code>Amelia</code> or <code><a href='to_zelig_mi.html'>to_zelig_mi</a></code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to <code>zelig</code>,
relevant for the model to be estimated.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>a factor variable contained in <code>data</code>. If supplied,
<code>zelig</code> will subset
the data frame based on the levels in the <code>by</code> variable, and
estimate a model for each subset. This can save a considerable amount of
effort. You may also use <code>by</code> to run models using MatchIt
subclasses.</p></td>
    </tr>
    <tr>
      <th>cite</th>
      <td><p>If is set to 'TRUE' (default), the model citation will be printed
to the console.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Depending on the class of model selected, <code>zelig</code> will return
  an object with elements including <code>coefficients</code>, <code>residuals</code>,
  and <code>formula</code> which may be summarized using
  <code>summary(z.out)</code> or individually extracted using, for example,
  <code>coef(z.out)</code>. See
  <a href='http://docs.zeligproject.org/articles/getters.html'>http://docs.zeligproject.org/articles/getters.html</a> for a list of
  functions to extract model components. You can also extract whole fitted
  model objects using <code><a href='from_zelig_model.html'>from_zelig_model</a></code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In addition, <code><a href='zelig.html'>zelig()</a></code> accepts the following additional arguments for model specification:</p><ul>
<li><p><code>lambda.constraints</code>: list containing the equality or
     inequality constraints on the factor loadings. Choose from one of the following forms:</p></li>
<li><p><code>varname = list()</code>: by default, no constraints are imposed.</p></li>
<li><p><code>varname = list(d, c)</code>: constrains the dth loading for the
           variable named varname to be equal to c.</p></li>
<li><p><code>varname = list(d, +)</code>: constrains the dth loading for the variable named varname to be positive;</p></li>
<li><p><code>varname = list(d, -)</code>: constrains the dth loading for the variable named varname to be negative.</p></li>
<li><p><code>std.var</code>: defaults to <code>FALSE</code> (manifest variables are rescaled to
     zero mean, but retain observed variance). If <code>TRUE</code>, the manifest
     variables are rescaled to be mean zero and unit variance.</p></li>
</ul>
    <p>In addition, <code><a href='zelig.html'>zelig()</a></code> accepts the following additional inputs for <code>bayes.factor</code>:</p><ul>
<li><p><code>burnin</code>: number of the initial MCMC iterations to be discarded (defaults to 1,000).</p></li>
<li><p><code>mcmc</code>: number of the MCMC iterations after burnin (defaults to 20,000).</p></li>
<li><p><code>thin</code>: thinning interval for the Markov chain. Only every thin-th
        draw from the Markov chain is kept. The value of mcmc must be divisible
        by this value. The default value is 1.</p></li>
<li><p><code>verbose</code>: defaults to FALSE. If TRUE, the
    progress of the sampler (every 10<!-- %10%) is printed to the screen. --></p></li>
<li><p><code>seed</code>: seed for the random number generator. The default is NA which
    corresponds to a random seed 12345.</p></li>
<li><p><code>Lambda.start</code>: starting values of the factor loading matrix \(\Lambda\), either a
    scalar (all unconstrained loadings are set to that value), or a matrix with
    compatible dimensions. The default is NA, where the start value are set to
    be 0 for unconstrained factor loadings, and 0.5 or - 0.5 for constrained
    factor loadings (depending on the nature of the constraints).</p></li>
<li><p><code>Psi.start</code>: starting values for the uniquenesses, either a scalar
    (the starting values for all diagonal elements of \(\Psi\) are set to be this value),
    or a vector with length equal to the number of manifest variables. In the latter
    case, the starting values of the diagonal elements of \(\Psi\) take the values of
    Psi.start. The default value is NA where the starting values of the all the
    uniquenesses are set to be 0.5.</p></li>
<li><p><code>store.lambda</code>: defaults to TRUE, which stores the posterior draws of the factor loadings.</p></li>
<li><p><code>store.scores</code>: defaults to FALSE. If TRUE, stores the posterior draws of the
    factor scores. (Storing factor scores may take large amount of memory for a large
    number of draws or observations.)</p></li>
</ul>
    <p>The model also accepts the following additional arguments to specify prior parameters:</p><ul>
<li><p><code>l0</code>: mean of the Normal prior for the factor loadings, either a scalar or a
    matrix with the same dimensions as \(\Lambda\). If a scalar value, that value will be the
    prior mean for all the factor loadings. Defaults to 0.</p></li>
<li><p><code>L0</code>: precision parameter of the Normal prior for the factor loadings, either
    a scalar or a matrix with the same dimensions as \(\Lambda\). If <code>L0</code> takes a scalar value,
    then the precision matrix will be a diagonal matrix with the diagonal elements
    set to that value. The default value is 0, which leads to an improper prior.</p></li>
<li><p><code>a0</code>: the shape parameter of the Inverse Gamma prior for the uniquenesses
    is <code>a0</code>/2. It can take a scalar value or a vector. The default value is 0.001.</p></li>
<li><p><code>b0</code>: the scale parameter of the Inverse Gamma prior for the uniquenesses
    is <code>b0</code>/2. It can take a scalar value or a vector. The default value is 0.001.</p></li>
</ul>
    <p>Additional parameters avaialable to this model include:</p><ul>
<li><p><code>weights</code>: vector of weight values or a name of a variable in the dataset
  by which to weight the model. For more information see:
  <a href='http://docs.zeligproject.org/articles/weights.html'>http://docs.zeligproject.org/articles/weights.html</a>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <dl class='dl-horizontal'>
<dt><code><a href='zelig.html'>zelig(formula, data, model = NULL, ..., weights = NULL, by,
  bootstrap = FALSE)</a></code></dt><dd><p>The zelig function estimates a variety of statistical models</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Vignette: <a href='http://docs.zeligproject.org/articles/zelig_factorbayes.html'>http://docs.zeligproject.org/articles/zelig_factorbayes.html</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>data</span>(<span class='no'>swiss</span>)
<span class='fu'>names</span>(<span class='no'>swiss</span>) <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"Fert"</span>, <span class='st'>"Agr"</span>, <span class='st'>"Exam"</span>, <span class='st'>"Educ"</span>, <span class='st'>"Cath"</span>, <span class='st'>"InfMort"</span>)
<span class='no'>z.out</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='zelig.html'>zelig</a></span>(~ <span class='no'>Agr</span> + <span class='no'>Exam</span> + <span class='no'>Educ</span> + <span class='no'>Cath</span> + <span class='no'>InfMort</span>,
<span class='kw'>model</span> <span class='kw'>=</span> <span class='st'>"factor.bayes"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>swiss</span>,
<span class='kw'>factors</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
<span class='kw'>a0</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>b0</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>burnin</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>mcmc</span> <span class='kw'>=</span> <span class='fl'>5000</span>)

<span class='no'>z.out</span>$<span class='fu'>geweke.diag</span>()
<span class='no'>z.out</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='zelig.html'>zelig</a></span>(~ <span class='no'>Agr</span> + <span class='no'>Exam</span> + <span class='no'>Educ</span> + <span class='no'>Cath</span> + <span class='no'>InfMort</span>,
<span class='kw'>model</span> <span class='kw'>=</span> <span class='st'>"factor.bayes"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>swiss</span>, <span class='kw'>factors</span> <span class='kw'>=</span> <span class='fl'>2</span>,
<span class='kw'>lambda.constraints</span> <span class='kw'>=</span>
   <span class='fu'>list</span>(<span class='kw'>Exam</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='fl'>1</span>,<span class='st'>"+"</span>),
        <span class='kw'>Exam</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='fl'>2</span>,<span class='st'>"-"</span>),
        <span class='kw'>Educ</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2</span>, <span class='fl'>0</span>),
        <span class='kw'>InfMort</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>0</span>)),
<span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>a0</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>b0</span> <span class='kw'>=</span> <span class='fl'>0.15</span>,
<span class='kw'>burnin</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>mcmc</span> <span class='kw'>=</span> <span class='fl'>5000</span>)

<span class='no'>z.out</span>$<span class='fu'>geweke.diag</span>()
<span class='no'>z.out</span>$<span class='fu'>heidel.diag</span>()
<span class='no'>z.out</span>$<span class='fu'>raftery.diag</span>()
<span class='fu'>summary</span>(<span class='no'>z.out</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#methods">Methods</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, Olivia Lau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
